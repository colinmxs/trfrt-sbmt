name: Regional Api Pipeline
on:
  push:
    branches: [ tempdev ]
  pull_request:
    branches: [ main ]

jobs:
  #run-tests:
  #  runs-on: self-hosted    
  #  steps:    
  #  - name: Run Tests
  #    run: |
  #      dotnet test TrfrtSbmt.Tests
  build-assets:
    uses: colinmxs/trfrt-sbmt-api/.github/workflows/build-assets.yml@tempdev  
  deploy:
    needs: [ build-assets ]        
    strategy:
      matrix:
        env: [ Development ]
    uses: colinmxs/trfrt-sbmt-api/.github/workflows/deploy-jobs.yml@tempdev
    with:
      env: ${{ matrix.env }}
